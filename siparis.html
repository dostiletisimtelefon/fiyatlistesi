<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>SipariÅŸ SayfasÄ±</title>
<style>
:root{--bg:#0f1320;--ink:#0f1a2a;--accent:#25D366;--radius:16px;}
html,body{max-width:100%;overflow-x:hidden;}
body{
  margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;color:var(--ink);
  background:
    radial-gradient(1200px 600px at 80% -10%,rgba(46,111,242,.15),transparent 60%),
    radial-gradient(900px 500px at -10% 20%,rgba(37,211,102,.1),transparent 60%),var(--bg);
  display:flex;justify-content:center;align-items:flex-start;padding:16px;
  min-height:100svh;min-height:100dvh;box-sizing:border-box;
}
.shell{
  width:min(1124px,96%);background:linear-gradient(180deg,#fff,#fafbff);
  border-radius:16px;border:1px solid #e9eef6;box-shadow:0 8px 32px rgba(0,0,0,.08);
  display:flex;flex-direction:column;overflow:auto;
}
.hero{padding:12px;border-bottom:1px solid #eef1f6}
.hero img{width:100%;height:auto;max-height:180px;object-fit:contain;border-radius:12px;display:block}

.inner{padding:14px 16px;display:grid;gap:12px}
.product-card{background:#fff;border:1px solid #e9eef6;border-radius:12px;padding:12px}
.product-card h3{margin:0 0 6px;font-size:18px}
.product-card p{margin:4px 0;font-size:15px}
.price{color:#e25342;font-weight:700}

.specs-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;background:#fff;border:1px solid #e9eef6;border-radius:12px;padding:10px}
.spec-item{display:flex;align-items:center;gap:8px;background:#f9fafc;border-radius:8px;padding:6px 8px;font-size:13.5px}
.spec-item i{font-size:16px}
.spec-label{font-weight:700}
.spec-value{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-width:38ch}

.people{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.personel{display:grid;grid-template-columns:64px 1fr;align-items:center;gap:10px;background:#fff;border:1px solid #e9eef6;border-radius:12px;padding:10px}
.brand-square{width:64px;height:64px;border:1px solid #e9eef6;border-radius:10px;display:grid;place-items:center;overflow:hidden;padding:6px;background:#fff}
.brand-square img{width:100%;height:100%;object-fit:contain}
.info{text-align:center}
.personel h2{margin:0;font-size:16px}
.phone-number{margin:4px 0 8px;font-size:14px;color:#39455a}
.whatsapp-button{background:var(--accent);color:#fff;text-decoration:none;display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:9px;font-size:13px;box-shadow:0 2px 6px rgba(37,211,102,.25)}
.whatsapp-button img{width:18px;height:18px}

.brands{border-top:1px solid #eef1f6;background:#fbfcff;padding:8px}
.brand-row{display:flex;justify-content:center;margin-bottom:6px}
.brand-row h4{margin:0;font-size:12px}
.logo-slider{overflow:hidden}
.logo-track{display:flex;gap:24px;width:max-content;animation:scroll 18s linear infinite}
.logo-track img{height:20px}
@keyframes scroll{from{transform:translateX(0)}to{transform:translateX(-50%)}}

.foot{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-top:1px solid #eef1f6;background:#ffffffd8;color:#5b677a;font-size:12px}

/* Mobil tek sÃ¼tun personel */
@media (max-width:768px){ .people{grid-template-columns:1fr} }

/* --- COMPACT modu (URL: &compact=1) --- */
.shell.compact .hero{padding:8px}
.shell.compact .hero img{max-height:140px}
.shell.compact .inner{padding:10px;gap:10px}
.shell.compact .product-card{padding:10px}
.shell.compact .product-card h3{font-size:16px}
.shell.compact .product-card p{font-size:14px}
.shell.compact .specs-grid{gap:6px;padding:8px}
.shell.compact .spec-item{padding:4px 6px;font-size:12.5px}
.shell.compact .spec-item i{font-size:15px}
.shell.compact .spec-value{max-width:28ch}
.shell.compact .personel{grid-template-columns:56px 1fr;padding:8px}
.shell.compact .brand-square{width:56px;height:56px}
.shell.compact .personel h2{font-size:14px}
.shell.compact .phone-number{font-size:12.5px;margin:4px 0 6px}
.shell.compact .whatsapp-button{padding:5px 8px;font-size:12px}
.shell.compact .logo-track img{height:16px}
.shell.compact .foot{font-size:11px;padding:6px 10px}
</style>
</head>
<body>
<div class="shell" id="shell">
  <div class="hero">
    <img src="https://raw.githubusercontent.com/dostiletisimtelefon/fiyatlistesi/refs/heads/main/dostyenilogo.jpg" alt="Dost Ä°letiÅŸim">
  </div>

  <div class="inner">
    <div class="product-card">
      <h3 id="product_name">ÃœrÃ¼n :</h3>
      <p id="product_features" class="price">Ram Ve HafÄ±za :</p>
      <p class="price" id="product_price">Fiyat:</p>
    </div>

    <div class="specs-grid" id="specs_grid"></div>

    <div class="people">
      <div class="personel">
        <div class="brand-square"><img src="https://raw.githubusercontent.com/dostiletisimtelefon/fiyatlistesi/refs/heads/main/dost.jpg" alt="Dost Ä°letiÅŸim"></div>
        <div class="info">
          <h2>Miskin Adak</h2>
          <p class="phone-number">0535 641 9868</p>
          <a id="whatsappButton1" href="#" class="whatsapp-button" target="_blank" rel="noopener">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="">WhatsApp ile SipariÅŸ Ver
          </a>
        </div>
      </div>
      <div class="personel">
        <div class="brand-square"><img src="https://raw.githubusercontent.com/dostiletisimtelefon/fiyatlistesi/refs/heads/main/dost.jpg" alt="Dost Ä°letiÅŸim"></div>
        <div class="info">
          <h2>Murat UÄŸur</h2>
          <p class="phone-number">0536 997 3191</p>
          <a id="whatsappButton2" href="#" class="whatsapp-button" target="_blank" rel="noopener">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="">WhatsApp ile SipariÅŸ Ver
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="brands">
    <div class="brand-row"><h4>Ã‡alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z Markalar</h4></div>
    <div class="logo-slider"><div class="logo-track">
      <img src="https://upload.wikimedia.org/wikipedia/commons/archive/6/61/20210930181848%21Samsung_old_logo_before_year_2015.svg" alt="Samsung">
      <img src="https://wp.logos-download.com/wp-content/uploads/2016/05/Xiaomi_Logo_2019-700x211.png" alt="Xiaomi">
      <img src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Infinix_logo.svg" alt="Infinix">
      <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Tecno_Mobile_logo.svg" alt="Tecno">
      <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google">
      <img src="https://cdn.tradetracker.net/cz/campaign_image_rectangle/30034.png" alt="Redmagic">
      <img src="https://upload.wikimedia.org/wikipedia/commons/f/f6/Nubia_logo.svg" alt="Nubia">
      <img src="https://upload.wikimedia.org/wikipedia/commons/f/f8/OP_LU_Reg_1L_RGB_red_copy-01.svg" alt="OnePlus">
      <img src="https://upload.wikimedia.org/wikipedia/commons/e/ea/Apple_iPhone.svg" alt="iPhone">
    </div></div>
  </div>

  <div class="foot">
    <span>GÃ¼venli ve hÄ±zlÄ± sipariÅŸ</span>
    <span>Fiyatlar kura gÃ¶re deÄŸiÅŸebilir</span>
  </div>
</div>

<script>
/* ---------- YardÄ±mcÄ±lar ---------- */
function qpRaw(n){ return new URL(location.href).searchParams.get(n) || ""; }
function qpDec(n){
  let v=qpRaw(n).replace(/\+/g," ").trim();
  for(let i=0;i<3;i++){ try{ if(/%[0-9a-fA-F]{2}/.test(v)) v=decodeURIComponent(v);}catch(e){break;} }
  return v.trim();
}
function isSoldOut(v){ return String(v||"").toLowerCase().includes("tÃ¼kendi"); }

function parseLocalizedNumber(v){
  if(!v) return NaN; v=String(v).trim();
  if(/^\d{1,3}(\.\d{3})+(,\d+)?$/.test(v)) v=v.replace(/\./g,'').replace(',', '.');       // TR
  else if(/^\d{1,3}(,\d{3})+(\.\d+)?$/.test(v)) v=v.replace(/,/g,'');                      // EN
  else v=v.replace(',', '.');
  return parseFloat(v);
}
function formatUSD(v){
  if(!v) return ""; const n=parseLocalizedNumber(v);
  if(isNaN(n)) return String(v);
  return n.toLocaleString("tr-TR",{minimumFractionDigits:0,maximumFractionDigits:(n%1===0?0:3)})+" $";
}
function formatTL(v){
  if(!v) return ""; const n=parseLocalizedNumber(v);
  if(isNaN(n)) return String(v);
  return n.toLocaleString("tr-TR",{minimumFractionDigits:0,maximumFractionDigits:(n%1===0?0:3)})+" TL";
}

function normalizeKey(s){return (s||"").toLocaleLowerCase("tr").replaceAll("Ä±","i").replaceAll("Ä°","i").replaceAll("ÅŸ","s").replaceAll("Ã§","c").replaceAll("ÄŸ","g").replaceAll("Ã¶","o").replaceAll("Ã¼","u").replace(/[^\p{L}]/gu,"").trim();}
const SPEC_KEYS_TR=["Ä°ÅŸlemci","Ekran","Kamera","Performans","Gpu","Batarya","Boyutlar","SensÃ¶rler","Sensorler","CPU","GPU","Display","Camera","Battery","Dimensions"];
const SPEC_RE=new RegExp("("+SPEC_KEYS_TR.join("|")+")\\s*:\\s*([^]+?)(?=(?:,\\s*(?:"+SPEC_KEYS_TR.join("|")+")\\s*:)|$)","gi");
function parseSpecs(raw){
  const out={}; if(!raw) return out; let m;
  while((m=SPEC_RE.exec(raw))!==null){
    const kRaw=m[1]||""; let v=(m[2]||"").trim().replace(/^[,\s]+|[,\s]+$/g,"").replace(/\s+/g," ");
    let k=normalizeKey(kRaw);
    if(k.includes("islemci")||k.includes("soc")||k.includes("processor")||k==="cpu") k="islemci";
    else if(k.includes("ekran")||k.includes("display")) k="ekran";
    else if(k.includes("kamera")||k.includes("camera")) k="kamera";
    else if(k==="gpu"||k.includes("grafik")) k="gpu";
    else if(k.includes("batarya")||k.includes("pil")||k.includes("battery")) k="batarya";
    else if(k.includes("boyut")||k.includes("dimension")) k="boyutlar";
    out[k]=v;
  } return out;
}
function shortenDimensions(v){return v?String(v).replace(/\s*\([^)]*\)\s*$/,"").trim():v;}
function ellipsize(s,m){s=String(s||"").trim();return s.length>m?s.slice(0,m-1)+"â€¦":s;}
function renderSpecsGrid(specs){
  const order=[
    {key:"islemci",icon:"ðŸ§ ",label:"Ä°ÅŸlemci"},
    {key:"ekran",icon:"ðŸ“±",label:"Ekran"},
    {key:"kamera",icon:"ðŸ“¸",label:"Kamera"},
    {key:"gpu",icon:"ðŸŽ®",label:"GPU"},
    {key:"batarya",icon:"ðŸ”‹",label:"Batarya"},
    {key:"boyutlar",icon:"ðŸ“",label:"Boyutlar"}];
  const grid=document.getElementById("specs_grid"); grid.innerHTML=""; let found=0;
  order.forEach(f=>{
    let val=specs[f.key]; if(!val) return;
    let clean=String(val).replace(/\s+/g," ").trim();
    if(f.key==="boyutlar") clean=shortenDimensions(clean);
    let display=clean;
    if(f.key==="islemci"||f.key==="ekran"||f.key==="kamera") display=ellipsize(display,40);
    if(f.key==="gpu"||f.key==="batarya") display=ellipsize(display,35);
    grid.insertAdjacentHTML("beforeend",
      `<div class="spec-item" title="${clean}">
         <i>${f.icon}</i>
         <span><span class="spec-label">${f.label}:</span> <span class="spec-value">${display}</span></span>
       </div>`);
    found++;
  });
  grid.hidden=!found;
}

/* ---------- SayfayÄ± doldur ---------- */
function hydrate(){
  const product=qpDec("product");
  const features=qpDec("features");
  const usdRaw=qpDec("price_usd");
  const tlRaw=qpDec("price_tl");
  const specsRaw=qpDec("specs");

  const sold=isSoldOut(usdRaw)||isSoldOut(tlRaw);
  const priceText = sold ? "TÃ¼kendi" : [formatUSD(usdRaw), formatTL(tlRaw)].filter(Boolean).join(" / ");

  document.getElementById("product_name").textContent="ÃœrÃ¼n : "+(product||"");
  document.getElementById("product_features").textContent="Ram Ve HafÄ±za : "+(features||"");
  document.getElementById("product_price").textContent="Fiyat: "+priceText;

  renderSpecsGrid(parseSpecs(specsRaw));

  const lines=["SipariÅŸ vermek istiyorum."];
  if(product)  lines.push(`ÃœrÃ¼n: ${product}`);
  if(features) lines.push(`Ram Ve HafÄ±za: ${features}`);
  if(!sold){
    const u=usdRaw?formatUSD(usdRaw):""; const t=tlRaw?formatTL(tlRaw):"";
    if(u) lines.push(`Fiyat (USD): ${u}`); if(t) lines.push(`Fiyat (TL): ${t}`);
  }else{ lines.push("Durum: TÃ¼kendi"); }
  const enc=encodeURIComponent(lines.join("\n"));
  document.getElementById("whatsappButton1").href="https://wa.me/905356419868?text="+enc;
  document.getElementById("whatsappButton2").href="https://wa.me/905369973191?text="+enc;

  // COMPACT modu
  const q=new URL(location.href).searchParams;
  if(q.get("compact")==="1") document.getElementById("shell").classList.add("compact");
}

document.addEventListener("DOMContentLoaded", hydrate);
</script>
</body>
</html>
